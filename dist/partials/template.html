<div flex>
    <md-content flex class="trendstat-panel layout-column" style="overflow: hidden">
        <div flex class="layout-row layout-fill">
      <!--      <div flex="60" class="flex-60 trendstat-panel-left-side" style="width: 100%;"> -->
            <div flex="60" class="trendstat-panel-left-side" style="width: 100%;">
                <md-grid-list flex class="layout-fill" md-cols-xs="1">
                    <md-grid-tile class="layout-fill" style="background-color: {{ctrl.panel.currentValueBackgroundColor}}; position: relative;">
                        <div layout="column" class="layout-fill" style="font-size: 28px; font-weight: bold; text-align: right; width: 100%;">
                            <div style="position:absolute; height:100%; width:100%;display: table;">
                                <div ng-if="!ctrl.panel.gauge.show" style="display: table-cell; vertical-align: middle; text-align:center; color: {{ctrl.panel.valueColor}}">
                                    <span style="font-size: {{ctrl.panel.prefixFontSize}};">{{ctrl.panel.prefix}}</span>
                                    <span style="font-size: {{ctrl.panel.valueFontSize}};">{{ctrl.panel.currentValueFormatted}}</span><span style="font-size: {{ctrl.panel.postfixFontSize}};">{{ctrl.panel.postfix}}</span>
                                </div>
                                <div ng-if="!ctrl.panel.trendstat.splitDisplay" style="position:absolute; height:100%; width:100%;display: table;">
                                    <div style="display: table-cell; vertical-align: middle; text-align:center; font-size: 22px;">
                                        {{ctrl.panel.trendAvgPercentage}}%
                                        <md-icon style="margin-bottom: 6px;"><i class="{{ctrl.panel.trendIcon}}"></i></md-icon>
                                        <div style="text-align: center; font-size: 12px;">
                                          vs {{ctrl.panel.trendAvgValueFormatted}} AVG
                                        </div>
                                        <!--
                                        <div style="text-align: center; font-size: 12px;">
                                          Last Update 2016-12-03 21:19:14 UTC
                                        </div>
                                      -->
                                    </div>

                                </div>

                            </div>
                        </div>
                        <div ng-if="ctrl.panel.trendstat.leftSideShowSubtext">
                          <md-grid-tile-footer style="font-size: 12px; font-weight: bold; height: 20%;">
                            <div style="text-align: center; width: 100%; font-size: {{ctrl.panel.trendstat.leftSideSubtextFontSize}};">
                              <span ng-if="ctrl.panel.trendstat.leftSideShowSubtext">
                                {{ctrl.panel.trendstat.leftSideSubtext}}
                              </span>
                                <span ng-if="ctrl.panel.trendstat.leftSideShowTimestamp">
                                  {{ctrl.panel.trendstat.leftSideTimestamp}}
                                </span>
                            </div>
                          </md-grid-tile-footer>
                      </div>
                    </md-grid-tile>
                </md-grid-list>
            </div>

            <div flex class="layout-row" ng-if="ctrl.panel.trendstat.splitDisplay && ctrl.panel.trendstat.showDivider">
                <md-divider style="margin: 6px; color: {{ctrl.panel.trendstat.dividerColor}}"></md-divider>
            </div>

            <!-- <div flex="40" class="flex-40" style="width: 100%;" ng-if="ctrl.panel.splitSections"> -->

            <div flex="40" class="flex-40" style="width: 100%;" ng-if="ctrl.panel.trendstat.splitDisplay">
                <md-grid-list flex class="layout-fill" md-cols-xs="1">
                    <md-grid-tile class="layout-fill" style="position: relative;">
                        <div layout="column" class="layout-fill" style="font-size: 20px; font-weight: bold; text-align: left; width: 100%;">
                            <div style="position:absolute; height:100%; width:100%;display: table;">
                                <div style="display: table-cell; vertical-align: middle; text-align:center;">
                                    {{ctrl.panel.trendAvgPercentage}}%
                                    <md-icon style="margin-bottom: 6px;"><i class="{{ctrl.panel.trendIcon}}"></i></md-icon>
                                    <div ng-if="ctrl.panel.trendstat.rightSideShowTimestamp" style="text-align: center; font-size: 12px;">
                                        {{ctrl.panel.trendstat.rightSideTimestamp}}
                                    </div>
                                </div>
                            </div>
                        </div>
                        <md-grid-tile-footer style="font-size: 12px; font-weight: bold; height: 20%;">
                            <div style="text-align: center; width: 100%; font-size: {{ctrl.panel.rightSideSubtextFontSize}};">
                              <span>vs {{ctrl.panel.trendAvgValueFormatted}} AVG</span><!--{{ctrl.panel.trendTimeStep}} sec-->
                              <span ng-if="ctrl.panel.trendstat.rightSideShowSubtext">
                                {{ctrl.panel.trendstat.rightSideSubtext}}
                              </span>

                            </div>
                        </md-grid-tile-footer>
                    </md-grid-tile>
                </md-grid-list>
            </div>
        </div>
    </md-content>
</div>
